%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Compact Academic CV
% Structural Definitions
% Version 1.1 (/7/2021)
%
% This template originates from:
% https://www.LaTeXTemplates.com
%
% Authors:
% Updated by: Nikolas Martelaro (nmartelaro@gmail.com)
% Dario Taraborelli (http://nitens.org/taraborelli/home)
% Vel (vel@LaTeXTemplates.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	REQUIRED PACKAGES AND MISC CONFIGURATIONS
%----------------------------------------------------------------------------------------

\usepackage{graphicx} % Required for including images

\setlength{\parindent}{0pt} % Stop paragraph indentation

%----------------------------------------------------------------------------------------
%	CITATIONS
%----------------------------------------------------------------------------------------
\usepackage[%
  backend=biber,
  defernumbers=true,
  sorting=ydnt,         % Sort by year (descending), name, title
  maxbibnames=99        % show all author names
% sorting=none,         % Do not sort at all. All entries are processed in citation order.
]{biblatex}

% bibtex files - one for each type of publication
\addbibresource{chapters.bib} % add a bib-reference file
\addbibresource{conference.bib}
\addbibresource{journal.bib}
\addbibresource{workshop.bib}
\addbibresource{invited.bib}
\addbibresource{demovidwip.bib}
\addbibresource{organized.bib}

\DeclareFieldFormat{labelnumberwidth}{}
\setlength{\biblabelsep}{0pt}
% no numbered label: https://tex.stackexchange.com/questions/219935/remove-numbers-from-cv-bibliography-using-biblatex-in-texshop
%----------------------------------------------------------------------------------------
%	MARGINS
%----------------------------------------------------------------------------------------

\usepackage{geometry} % Required for adjusting page dimensions and margins

\geometry{
	paper=letterpaper, % Paper size, change to letterpaper for US letter size
	top=3.25cm, % Top margin
	bottom=4cm, % Bottom margin
	left=6.5cm, % Left margin
	right=3cm, % Right margin
	headheight=0.75cm, % Header height
	footskip=1cm, % Space from the bottom margin to the baseline of the footer
	headsep=0.75cm, % Space from the top margin to the baseline of the header
	%showframe, % Uncomment to show how the type block is set on the page
}

%----------------------------------------------------------------------------------------
%	FONTS
%----------------------------------------------------------------------------------------

\usepackage[utf8]{inputenc} % Required for inputting international characters
\usepackage[T1]{fontenc} % Output font encoding for international characters

\usepackage[semibold]{ebgaramond} % Use the EB Garamond font with a reduced bold weight
\usepackage[tracking=true]{microtype}
\SetTracking[no ligatures = f]{encoding = *,shape = sc}{120}
\newcommand*{\textsecls}[1]{\textls*[250]{#1}} % Change number for different letter spacing
%----------------------------------------------------------------------------------------
%	SECTION STYLING
%----------------------------------------------------------------------------------------

\usepackage{sectsty} % Allows changing the font options for sections in a document

\sectionfont{\fontsize{12pt}{18pt}\fontfamily{qag}\selectfont\textsecls} % Set font options for sections
\subsectionfont{\mdseries\scshape\large} % Set font options for subsections
\subsubsectionfont{\mdseries\upshape\bfseries\normalsize} % Set font options for subsubsections

%----------------------------------------------------------------------------------------
%	MARGIN YEARS
%----------------------------------------------------------------------------------------

\usepackage{marginnote} % Required to output text in the margin

\newcommand{\years}[1]{\marginnote{\scriptsize #1}} % New command for adding years to the margin
\renewcommand*{\marginfont}{\fontsize{6pt}{6pt}\fontfamily{qag}}
\renewcommand*{\raggedleftmarginnote}{} % Left-align the years in the margin
\setlength{\marginparsep}{-10pt} % Move the margin content closer to the text
\reversemarginpar % Margin text to be output into the left margin instead of the default right margin

%----------------------------------------------------------------------------------------
%	COLOURS
%----------------------------------------------------------------------------------------

\usepackage[usenames, dvipsnames]{xcolor} % Required for specifying colours by name

%----------------------------------------------------------------------------------------
%	LINKS
%----------------------------------------------------------------------------------------

\PassOptionsToPackage{hyphens}{url}
\usepackage[bookmarks, colorlinks, breaklinks]{hyperref}% Required for links
\usepackage{url}


% Set link colours
\hypersetup{
	linkcolor=blue,
	citecolor=blue,
	filecolor=black,
	urlcolor=RoyalBlue
}

% TABLES
% \usepackage{booktabs}

% HEADER & FOOTER
\usepackage{fancyhdr}
\usepackage[page]{totalcount}
% Turn on the style
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
% Clear footer
\fancyfoot{}
% Set the right side of the footer to be the page number
\fancyfoot[R]{\fontsize{8.25pt}{8.25pt}\fontfamily{qag}\selectfont \thepage~OF \totalpages}
\fancyfoot[L]{\fontsize{8.25pt}{8.25pt}\fontfamily{qag}\selectfont NIKOLAS MARTELARO - CURRICULUM VITAE - \MakeUppercase\today}



%----------------------------------------------------------------------------------------
%	BOLD YOUR AUTHOR NAME IN 
%----------------------------------------------------------------------------------------
\usepackage{xstring}
\usepackage{etoolbox}
\newboolean{bold}
\newcommand{\makeauthorsbold}[1]{%
  \DeclareNameFormat{default}{%
  \setboolean{bold}{false}%
    \renewcommand{\do}[1]{\expandafter\ifstrequal\expandafter{\namepartfamily}{####1}{\setboolean{bold}{true}}{}}%
    \docsvlist{#1}%
    \ifthenelse{\value{listcount}=1}
    {%
      {\expandafter\ifthenelse{\boolean{bold}}{\mkbibbold{\namepartgiven \addspace \namepartfamily}}{\namepartgiven \addspace \namepartfamily}}%
    }{\ifnumless{\value{listcount}}{\value{liststop}}
      {\expandafter\ifthenelse{\boolean{bold}}{\mkbibbold{\addcomma\addspace \namepartgiven \addspace \namepartfamily}}{\addcomma\addspace \namepartgiven \addspace \namepartfamily}}%
      {\expandafter\ifthenelse{\boolean{bold}}{\mkbibbold{\addcomma\addspace \namepartgiven \addspace \namepartfamily\isdot}}{\addcomma\addspace \namepartgiven \addspace \namepartfamily\isdot}}%
      }
    \ifthenelse{\value{listcount}<\value{liststop}}
    {\addcomma\space}{}
  }
}

\makeauthorsbold{Martelaro, Nikolas}